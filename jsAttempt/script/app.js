!function e(t,n,i){function r(s,l){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!l&&a)return a(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return r(n?n:e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){"use strict";e("./helpers"),e("./localstorage"),e("./search"),e("./media"),e("./history"),document.getElementById("main"),document.getElementById("searchBtn"),document.getElementById("searchInput"),document.getElementById("results"),document.getElementById("nextBtn"),document.getElementById("listViewBtn"),document.getElementById("tileViewBtn"),document.getElementById("artwork"),document.getElementById("audio"),document.getElementById("history")},{"./helpers":2,"./history":3,"./localstorage":4,"./media":5,"./search":6}],2:[function(e,t,n){"use strict"},{}],3:[function(e,t,n){"use strict";function i(){var e=document.createElement("li");e.textContent=searchTerm.value,5===history.children.length&&history.removeChild(history.lastElementChild),history.insertBefore(e,history.firstElementChild),updateLocalStorage()}history.addEventListener("click",function(e){"LI"===e.target.tagName&&(searchTerm.value=e.target.innerText,count=0,i(),getData())},!1)},{}],4:[function(e,t,n){"use strict";function i(e,t){localStorage.setItem(e,t)}function r(){var e,t="";if(localStorage.getItem("isTileView")){"true"===localStorage.getItem("isTileView")?(main.classList.add("tile"),isTileView=!0):isTileView=!1;for(var n=0;5>n&&(e=localStorage.getItem("recent"+n),e);n++)t+="<li>"+e;history.innerHTML=t}else i("isTileView","false"),isTileView=!1}r()},{}],5:[function(e,t,n){"use strict";artwork.addEventListener("click",function(){audio.play(),audio.classList.add("playing")},!1)},{}],6:[function(e,t,n){"use strict";function i(){var e=new XMLHttpRequest,t=baseURL+clientID+"&tag_list="+searchTerm.value;e.open("GET",t,!0),e.onload=function(){e.status>=200&&e.status<400?(data=JSON.parse(e.responseText).filter(function(e){return e.artwork_url&&e.stream_url}),console.log(data),console.log("no results found : "+data.length),r()):console.log("server returned error")},e.onerror=function(){console.log("request error")},e.send()}function r(){var e,t="";currentResults=[],resetMedia(),o();for(var n=count;n<count+6;n++)e={},t+='<li><figure><img src="'+data[n%data.length].artwork_url+'"><figcaption>'+data[n%data.length].title+"</figcaption></li>",e.image=data[n%data.length].artwork_url,e.audio=data[n%data.length].stream_url,currentResults.push(e);resultList.innerHTML=t,console.log(currentResults)}function o(){nextBtn.disabled=!1,listViewBtn.disabled=!1,tileViewBtn.disabled=!1}function s(){nextBtn.disabled=!0,listViewBtn.disabled=!0,tileViewBtn.disabled=!0}searchBtn.addEventListener("click",function(){count=0,pushToHistory(),i()},!1),nextBtn.addEventListener("click",function(){count+=6,r()},!1),listViewBtn.addEventListener("click",function(){console.log("list button clicked"),isTileView&&(isTileView=!1,main.classList.remove("tile"),setStorage("isTileView","false"))},!1),tileViewBtn.addEventListener("click",function(){console.log("tile button clicked"),isTileView||(isTileView=!0,main.classList.add("tile"),setStorage("isTileView","true"))},!1),results.addEventListener("click",function(e){console.log("event object =",e);var t=closest(e.target,"li");console.log("listItem",t);var n=getIndex(t);console.log(n,currentResults[n]),artwork.classList.remove("show"),artwork.style.display="none",artwork.src=currentResults[n].image,audio.src=currentResults[n].audio+clientID,createItemClone(t)},!1),s()},{}]},{},[1]);
//# sourceMappingURL=maps/app.js.map
