{"version":3,"sources":["app.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","angular","factory","$document","audioElement","document","querySelector","play","filename","src","run","$rootScope","showArtwork","fadeinArtwork","isPlaying","artworkSrc","audioSrc","recentItems"],"mappings":"CAAA,QAAUA,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAkB,kBAATC,UAAqBA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,IAAIK,GAAE,GAAIC,OAAM,uBAAuBN,EAAE,IAAK,MAAMK,GAAEE,KAAK,mBAAmBF,EAAE,GAAIG,GAAEX,EAAEG,IAAIS,WAAYb,GAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,EAAEA,EAAEF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGS,QAAkD,IAAI,GAA1CL,GAAkB,kBAATD,UAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,GAAI,OAAOD,KAAKa,GAAG,SAAST,EAAQU,EAAOJ,GACvd,YAEcK,SAAQD,OAAO,cAAeE,QAAQ,QAAS,SAAUC,GACnE,GAAIC,GAAeC,SAASC,cAAc,SAC1C,QACIF,aAAcA,EAEdG,KAAM,SAAcC,GAChBJ,EAAaK,IAAMD,EACnBJ,EAAaG,WAWzBG,IAAI,SAAUC,GACVA,EAAWC,aAAc,EACzBD,EAAWE,eAAgB,EAC3BF,EAAWG,WAAY,EACvBH,EAAWI,WAAa,GACxBJ,EAAWK,SAAW,GACtBL,EAAWM,2BAuKJ","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar galaApp = angular.module('galaApp', []).factory('audio', function ($document) {\n    var audioElement = document.querySelector('#audio');\n    return {\n        audioElement: audioElement,\n\n        play: function play(filename) {\n            audioElement.src = filename;\n            audioElement.play();\n        }\n    };\n}). // reset: function() {\n//   audioElement.src = '';\n// },\n// pause: function(filename) {\n//   audioElement.src = filename;\n//   audioElement.pause();\n// }\n\nrun(function ($rootScope) {\n    $rootScope.showArtwork = false;\n    $rootScope.fadeinArtwork = false;\n    $rootScope.isPlaying = false;\n    $rootScope.artworkSrc = '';\n    $rootScope.audioSrc = '';\n    $rootScope.recentItems = [];\n    //$rootScope.art = '';\n});\n\n// .factory('animateService', function() {\n//   var _showImg = false;\n//\n//   // public API\n//   return {\n//     showImg: _showImg;\n// };\n\n// .controller('MainController', ['$scope', '$http', 'audio', function($scope, $http, audio) {\n//   var main = document.querySelector('#main'),\n//     artwork = document.querySelector('#artwork'),\n//     //audio = document.querySelector('#audio'),\n//     baseURL = 'https://api.soundcloud.com/tracks/',\n//     clientID = '?client_id=d652006c469530a4a7d6184b18e16c81';\n//     console.log('artwork',artwork);\n//     console.log('main',main);\n//   function getIndex(elem){\n//     return Array.prototype.indexOf.call(elem.parentNode.children, elem);\n//   }\n//   function getCenterCoords(elem) {\n//     var clientRect = elem.getBoundingClientRect(),\n//         coords = {};\n//     coords.x = clientRect.left + clientRect.width / 2;\n//     coords.y = clientRect.top + clientRect.height / 2;\n//     return coords;\n//   }\n//   function getComputed(elem,prop) {\n//     return getComputedStyle(elem,null).getPropertyValue(prop);\n//   }\n//   function animateItem(item) {\n//     console.log('moving...',item);\n//     setTimeout(function() {\n//       console.log('artwork',artwork);\n//       var diffX = getCenterCoords(artwork).x - getCenterCoords(item).x;\n//       var diffY = getCenterCoords(artwork).y - getCenterCoords(item).y;\n//       //console.log(diffX,diffY);\n//       item.style.left = parseInt(getComputed(item,'left'), 10) + diffX + 'px';\n//       item.style.top = parseInt(getComputed(item,'top'), 10) + diffY + 'px';\n//       item.style.opacity = 0;\n//       //artwork.classList.add('show');\n//     }, 0);\n//   }\n//   // function cloneItem(item) {\n//   //\n//   // }\n//   function removeClone(clone) {\n//     setTimeout(function() {\n//       clone.parentNode.removeChild(clone);\n//     }, 700);\n//   }\n//   function showArtwork() {\n//     setTimeout(function() {\n//       //artwork.classList.add('show');\n//       //$rootScope.fadeinArtwork = true;\n//       //$scope.fadeinArtwork = true;\n//       artwork.classList.add('fadein');\n//     }, 500);\n//   }\n//   if(localStorage.getItem('isTile') === 'true') {\n//     $scope.isTile = true;\n//     //main.classList.add('tile'); //TODO: find a way around this\n//     //console.log('hi there0');\n//   }\n//   else {\n//     $scope.isTile = false;\n//     //console.log('hi there1');\n//   }\n//   $scope.trackIndex = 0;\n//   $scope.isPlaying = false;\n//\n//   $scope.getData = function() {\n//     $http.get(baseURL + clientID).success(function (data) {\n//       $scope.tracks = data.filter(function (track) {\n//           return track.artwork_url && track.stream_url;\n//       });\n//       //$scope.numAllTracks = data.length;\n//       $scope.numTracks = $scope.tracks.length;\n//       resetMedia();\n//       //console.log('data', data);\n//       //console.log('data length', $scope.numAllTracks);\n//\n//       //console.log('filtered tracks', $scope.tracks);\n//       //console.log('filtered tracks length', $scope.numTracks);\n//     });\n//   };\n//   $scope.getNextData = function() {\n//     $scope.trackIndex = ($scope.trackIndex + 6) % $scope.numTracks;\n//     //console.log('track index', $scope.trackIndex);\n//     resetMedia();\n//   }\n//\n//   $scope.setListView = function($event) {\n//     $scope.isTile = false;\n//     localStorage.setItem('isTile', 'false');\n//     //main.classList.remove('tile'); //TODO: find a way around this\n//   };\n//   $scope.setTileView = function($event) {\n//     $scope.isTile = true;\n//     localStorage.setItem('isTile', 'true');\n//     //main.classList.add('tile'); //TODO: find a way around this\n//   };\n//   function resetMedia() {\n//     //audio.classList.remove('playing');\n//     $scope.isPlaying = false;\n//     //$rootScope.artworkSrc = '';\n//     //$rootScope.audioSrc = '';\n//     //audio.src = '';\n//     artwork.src = '';\n//     audio.reset();\n//     console.log('reseting audio');\n//   }\n//   $scope.cloneAndAnimate = function($event) {\n//     console.log('this = ', $event.currentTarget);\n//     var item = $event.currentTarget,\n//         index = getIndex(item);\n//         itemClone = item.cloneNode(true);\n//\n//\n//     // $rootScope.fadeinArtwork = false;\n//     // $rootScope.showArtwork = false;\n//     // $rootScope.artworkSrc = $scope.tracks[index].artwork_url;\n//     // $rootScope.audioSrc = $scope.tracks[index].stream_url + clientID;\n//     // $rootScope.artworkSrc = $scope.tracks[index].artwork_url;\n//     // $rootScope.audioSrc = $scope.tracks[index].stream_url + clientID;\n//     //$scope.fadeinArtwork = false;\n//     //$scope.showArtwork = false;\n//     artwork.style.display = 'none'; // I only want fade-in transition\n//     artwork.classList.remove('fadein');\n//     $scope.artworkSrc = $scope.tracks[$scope.trackIndex + index].artwork_url;\n//     $scope.audioSrc = $scope.tracks[$scope.trackIndex + index].stream_url + clientID;\n//     console.log('$scope.artworkSrc',$scope.artworkSrc);\n//     console.log('$scope.audioSrc',$scope.audioSrc);\n//     // artwork.classList.remove('show');\n//     // artwork.style.display = 'none'; // I only want fade-in transition\n//     // artwork.src = currentResults[index].image;\n//     // audio.src = currentResults[index].audio + clientID;\n//\n//     console.log('cloning...',item);\n//     //itemClone = item.cloneNode(true);\n//     itemClone.classList.add('clone');\n//     console.log(item.getBoundingClientRect().left,item.getBoundingClientRect().top);\n//     itemClone.style.left = item.getBoundingClientRect().left + 'px';\n//     itemClone.style.top = item.getBoundingClientRect().top + 'px';\n//     item.parentNode.appendChild(itemClone);\n//     animateItem(itemClone);\n//     //$rootScope.showArtwork = true;\n//     //$scope.showArtwork = true;\n//     artwork.style.display = 'block';\n//     showArtwork();\n//     removeClone(itemClone);\n//   };\n//   $scope.playTrack = function() {\n//     $scope.isPlaying = true;\n//     //console.log('audio',audio);\n//     //console.log('audioSrc',$rootScope.audioSrc);\n//     audio.play($scope.audioSrc);\n//     //audio.play();\n//\n//   };\n//\n//\n// }]);\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGpzXFxhcHAuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLElBQUksVUFBVSxRQUFRLE1BQVIsQ0FBZSxTQUFmLEVBQTBCLEVBQTFCLEVBQ2IsT0FEYSxDQUNMLE9BREssRUFDRyxVQUFVLFNBQVYsRUFBcUI7QUFDcEMsUUFBSSxlQUFlLFNBQVMsYUFBVCxDQUF1QixRQUF2QixDQUFmLENBRGdDO0FBRXBDLFdBQU87QUFDTCxzQkFBYyxZQUFkOztBQUVBLGNBQU0sY0FBUyxRQUFULEVBQW1CO0FBQ3JCLHlCQUFhLEdBQWIsR0FBbUIsUUFBbkIsQ0FEcUI7QUFFckIseUJBQWEsSUFBYixHQUZxQjtTQUFuQjtLQUhSLENBRm9DO0NBQXJCLENBREg7Ozs7Ozs7O0FBb0JiLEdBcEJhLENBb0JULFVBQVMsVUFBVCxFQUFxQjtBQUN0QixlQUFXLFdBQVgsR0FBeUIsS0FBekIsQ0FEc0I7QUFFdEIsZUFBVyxhQUFYLEdBQTJCLEtBQTNCLENBRnNCO0FBR3RCLGVBQVcsU0FBWCxHQUF1QixLQUF2QixDQUhzQjtBQUl0QixlQUFXLFVBQVgsR0FBd0IsRUFBeEIsQ0FKc0I7QUFLdEIsZUFBVyxRQUFYLEdBQXNCLEVBQXRCLENBTHNCO0FBTXRCLGVBQVcsV0FBWCxHQUF5QixFQUF6Qjs7QUFOc0IsQ0FBckIsQ0FwQkQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIGdhbGFBcHAgPSBhbmd1bGFyLm1vZHVsZSgnZ2FsYUFwcCcsIFtdKVxyXG4uZmFjdG9yeSgnYXVkaW8nLGZ1bmN0aW9uICgkZG9jdW1lbnQpIHtcclxuICB2YXIgYXVkaW9FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2F1ZGlvJyk7XHJcbiAgcmV0dXJuIHtcclxuICAgIGF1ZGlvRWxlbWVudDogYXVkaW9FbGVtZW50LFxyXG5cclxuICAgIHBsYXk6IGZ1bmN0aW9uKGZpbGVuYW1lKSB7XHJcbiAgICAgICAgYXVkaW9FbGVtZW50LnNyYyA9IGZpbGVuYW1lO1xyXG4gICAgICAgIGF1ZGlvRWxlbWVudC5wbGF5KCk7XHJcbiAgICB9LFxyXG4gICAgLy8gcmVzZXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gICBhdWRpb0VsZW1lbnQuc3JjID0gJyc7XHJcbiAgICAvLyB9LFxyXG4gICAgLy8gcGF1c2U6IGZ1bmN0aW9uKGZpbGVuYW1lKSB7XHJcbiAgICAvLyAgIGF1ZGlvRWxlbWVudC5zcmMgPSBmaWxlbmFtZTtcclxuICAgIC8vICAgYXVkaW9FbGVtZW50LnBhdXNlKCk7XHJcbiAgICAvLyB9XHJcblxyXG4gIH1cclxufSlcclxuLnJ1bihmdW5jdGlvbigkcm9vdFNjb3BlKSB7XHJcbiAgICAkcm9vdFNjb3BlLnNob3dBcnR3b3JrID0gZmFsc2U7XHJcbiAgICAkcm9vdFNjb3BlLmZhZGVpbkFydHdvcmsgPSBmYWxzZTtcclxuICAgICRyb290U2NvcGUuaXNQbGF5aW5nID0gZmFsc2U7XHJcbiAgICAkcm9vdFNjb3BlLmFydHdvcmtTcmMgPSAnJztcclxuICAgICRyb290U2NvcGUuYXVkaW9TcmMgPSAnJztcclxuICAgICRyb290U2NvcGUucmVjZW50SXRlbXMgPSBbXTtcclxuICAgIC8vJHJvb3RTY29wZS5hcnQgPSAnJztcclxufSk7XHJcblxyXG4vLyAuZmFjdG9yeSgnYW5pbWF0ZVNlcnZpY2UnLCBmdW5jdGlvbigpIHtcclxuLy8gICB2YXIgX3Nob3dJbWcgPSBmYWxzZTtcclxuLy9cclxuLy8gICAvLyBwdWJsaWMgQVBJXHJcbi8vICAgcmV0dXJuIHtcclxuLy8gICAgIHNob3dJbWc6IF9zaG93SW1nO1xyXG4vLyB9O1xyXG5cclxuLy8gLmNvbnRyb2xsZXIoJ01haW5Db250cm9sbGVyJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnYXVkaW8nLCBmdW5jdGlvbigkc2NvcGUsICRodHRwLCBhdWRpbykge1xyXG4vLyAgIHZhciBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21haW4nKSxcclxuLy8gICAgIGFydHdvcmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXJ0d29yaycpLFxyXG4vLyAgICAgLy9hdWRpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhdWRpbycpLFxyXG4vLyAgICAgYmFzZVVSTCA9ICdodHRwczovL2FwaS5zb3VuZGNsb3VkLmNvbS90cmFja3MvJyxcclxuLy8gICAgIGNsaWVudElEID0gJz9jbGllbnRfaWQ9ZDY1MjAwNmM0Njk1MzBhNGE3ZDYxODRiMThlMTZjODEnO1xyXG4vLyAgICAgY29uc29sZS5sb2coJ2FydHdvcmsnLGFydHdvcmspO1xyXG4vLyAgICAgY29uc29sZS5sb2coJ21haW4nLG1haW4pO1xyXG4vLyAgIGZ1bmN0aW9uIGdldEluZGV4KGVsZW0pe1xyXG4vLyAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZWxlbS5wYXJlbnROb2RlLmNoaWxkcmVuLCBlbGVtKTtcclxuLy8gICB9XHJcbi8vICAgZnVuY3Rpb24gZ2V0Q2VudGVyQ29vcmRzKGVsZW0pIHtcclxuLy8gICAgIHZhciBjbGllbnRSZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcclxuLy8gICAgICAgICBjb29yZHMgPSB7fTtcclxuLy8gICAgIGNvb3Jkcy54ID0gY2xpZW50UmVjdC5sZWZ0ICsgY2xpZW50UmVjdC53aWR0aCAvIDI7XHJcbi8vICAgICBjb29yZHMueSA9IGNsaWVudFJlY3QudG9wICsgY2xpZW50UmVjdC5oZWlnaHQgLyAyO1xyXG4vLyAgICAgcmV0dXJuIGNvb3JkcztcclxuLy8gICB9XHJcbi8vICAgZnVuY3Rpb24gZ2V0Q29tcHV0ZWQoZWxlbSxwcm9wKSB7XHJcbi8vICAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtLG51bGwpLmdldFByb3BlcnR5VmFsdWUocHJvcCk7XHJcbi8vICAgfVxyXG4vLyAgIGZ1bmN0aW9uIGFuaW1hdGVJdGVtKGl0ZW0pIHtcclxuLy8gICAgIGNvbnNvbGUubG9nKCdtb3ZpbmcuLi4nLGl0ZW0pO1xyXG4vLyAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuLy8gICAgICAgY29uc29sZS5sb2coJ2FydHdvcmsnLGFydHdvcmspO1xyXG4vLyAgICAgICB2YXIgZGlmZlggPSBnZXRDZW50ZXJDb29yZHMoYXJ0d29yaykueCAtIGdldENlbnRlckNvb3JkcyhpdGVtKS54O1xyXG4vLyAgICAgICB2YXIgZGlmZlkgPSBnZXRDZW50ZXJDb29yZHMoYXJ0d29yaykueSAtIGdldENlbnRlckNvb3JkcyhpdGVtKS55O1xyXG4vLyAgICAgICAvL2NvbnNvbGUubG9nKGRpZmZYLGRpZmZZKTtcclxuLy8gICAgICAgaXRlbS5zdHlsZS5sZWZ0ID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWQoaXRlbSwnbGVmdCcpLCAxMCkgKyBkaWZmWCArICdweCc7XHJcbi8vICAgICAgIGl0ZW0uc3R5bGUudG9wID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWQoaXRlbSwndG9wJyksIDEwKSArIGRpZmZZICsgJ3B4JztcclxuLy8gICAgICAgaXRlbS5zdHlsZS5vcGFjaXR5ID0gMDtcclxuLy8gICAgICAgLy9hcnR3b3JrLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcclxuLy8gICAgIH0sIDApO1xyXG4vLyAgIH1cclxuLy8gICAvLyBmdW5jdGlvbiBjbG9uZUl0ZW0oaXRlbSkge1xyXG4vLyAgIC8vXHJcbi8vICAgLy8gfVxyXG4vLyAgIGZ1bmN0aW9uIHJlbW92ZUNsb25lKGNsb25lKSB7XHJcbi8vICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4vLyAgICAgICBjbG9uZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNsb25lKTtcclxuLy8gICAgIH0sIDcwMCk7XHJcbi8vICAgfVxyXG4vLyAgIGZ1bmN0aW9uIHNob3dBcnR3b3JrKCkge1xyXG4vLyAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuLy8gICAgICAgLy9hcnR3b3JrLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTtcclxuLy8gICAgICAgLy8kcm9vdFNjb3BlLmZhZGVpbkFydHdvcmsgPSB0cnVlO1xyXG4vLyAgICAgICAvLyRzY29wZS5mYWRlaW5BcnR3b3JrID0gdHJ1ZTtcclxuLy8gICAgICAgYXJ0d29yay5jbGFzc0xpc3QuYWRkKCdmYWRlaW4nKTtcclxuLy8gICAgIH0sIDUwMCk7XHJcbi8vICAgfVxyXG4vLyAgIGlmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpc1RpbGUnKSA9PT0gJ3RydWUnKSB7XHJcbi8vICAgICAkc2NvcGUuaXNUaWxlID0gdHJ1ZTtcclxuLy8gICAgIC8vbWFpbi5jbGFzc0xpc3QuYWRkKCd0aWxlJyk7IC8vVE9ETzogZmluZCBhIHdheSBhcm91bmQgdGhpc1xyXG4vLyAgICAgLy9jb25zb2xlLmxvZygnaGkgdGhlcmUwJyk7XHJcbi8vICAgfVxyXG4vLyAgIGVsc2Uge1xyXG4vLyAgICAgJHNjb3BlLmlzVGlsZSA9IGZhbHNlO1xyXG4vLyAgICAgLy9jb25zb2xlLmxvZygnaGkgdGhlcmUxJyk7XHJcbi8vICAgfVxyXG4vLyAgICRzY29wZS50cmFja0luZGV4ID0gMDtcclxuLy8gICAkc2NvcGUuaXNQbGF5aW5nID0gZmFsc2U7XHJcbi8vXHJcbi8vICAgJHNjb3BlLmdldERhdGEgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICRodHRwLmdldChiYXNlVVJMICsgY2xpZW50SUQpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuLy8gICAgICAgJHNjb3BlLnRyYWNrcyA9IGRhdGEuZmlsdGVyKGZ1bmN0aW9uICh0cmFjaykge1xyXG4vLyAgICAgICAgICAgcmV0dXJuIHRyYWNrLmFydHdvcmtfdXJsICYmIHRyYWNrLnN0cmVhbV91cmw7XHJcbi8vICAgICAgIH0pO1xyXG4vLyAgICAgICAvLyRzY29wZS5udW1BbGxUcmFja3MgPSBkYXRhLmxlbmd0aDtcclxuLy8gICAgICAgJHNjb3BlLm51bVRyYWNrcyA9ICRzY29wZS50cmFja3MubGVuZ3RoO1xyXG4vLyAgICAgICByZXNldE1lZGlhKCk7XHJcbi8vICAgICAgIC8vY29uc29sZS5sb2coJ2RhdGEnLCBkYXRhKTtcclxuLy8gICAgICAgLy9jb25zb2xlLmxvZygnZGF0YSBsZW5ndGgnLCAkc2NvcGUubnVtQWxsVHJhY2tzKTtcclxuLy9cclxuLy8gICAgICAgLy9jb25zb2xlLmxvZygnZmlsdGVyZWQgdHJhY2tzJywgJHNjb3BlLnRyYWNrcyk7XHJcbi8vICAgICAgIC8vY29uc29sZS5sb2coJ2ZpbHRlcmVkIHRyYWNrcyBsZW5ndGgnLCAkc2NvcGUubnVtVHJhY2tzKTtcclxuLy8gICAgIH0pO1xyXG4vLyAgIH07XHJcbi8vICAgJHNjb3BlLmdldE5leHREYXRhID0gZnVuY3Rpb24oKSB7XHJcbi8vICAgICAkc2NvcGUudHJhY2tJbmRleCA9ICgkc2NvcGUudHJhY2tJbmRleCArIDYpICUgJHNjb3BlLm51bVRyYWNrcztcclxuLy8gICAgIC8vY29uc29sZS5sb2coJ3RyYWNrIGluZGV4JywgJHNjb3BlLnRyYWNrSW5kZXgpO1xyXG4vLyAgICAgcmVzZXRNZWRpYSgpO1xyXG4vLyAgIH1cclxuLy9cclxuLy8gICAkc2NvcGUuc2V0TGlzdFZpZXcgPSBmdW5jdGlvbigkZXZlbnQpIHtcclxuLy8gICAgICRzY29wZS5pc1RpbGUgPSBmYWxzZTtcclxuLy8gICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpc1RpbGUnLCAnZmFsc2UnKTtcclxuLy8gICAgIC8vbWFpbi5jbGFzc0xpc3QucmVtb3ZlKCd0aWxlJyk7IC8vVE9ETzogZmluZCBhIHdheSBhcm91bmQgdGhpc1xyXG4vLyAgIH07XHJcbi8vICAgJHNjb3BlLnNldFRpbGVWaWV3ID0gZnVuY3Rpb24oJGV2ZW50KSB7XHJcbi8vICAgICAkc2NvcGUuaXNUaWxlID0gdHJ1ZTtcclxuLy8gICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpc1RpbGUnLCAndHJ1ZScpO1xyXG4vLyAgICAgLy9tYWluLmNsYXNzTGlzdC5hZGQoJ3RpbGUnKTsgLy9UT0RPOiBmaW5kIGEgd2F5IGFyb3VuZCB0aGlzXHJcbi8vICAgfTtcclxuLy8gICBmdW5jdGlvbiByZXNldE1lZGlhKCkge1xyXG4vLyAgICAgLy9hdWRpby5jbGFzc0xpc3QucmVtb3ZlKCdwbGF5aW5nJyk7XHJcbi8vICAgICAkc2NvcGUuaXNQbGF5aW5nID0gZmFsc2U7XHJcbi8vICAgICAvLyRyb290U2NvcGUuYXJ0d29ya1NyYyA9ICcnO1xyXG4vLyAgICAgLy8kcm9vdFNjb3BlLmF1ZGlvU3JjID0gJyc7XHJcbi8vICAgICAvL2F1ZGlvLnNyYyA9ICcnO1xyXG4vLyAgICAgYXJ0d29yay5zcmMgPSAnJztcclxuLy8gICAgIGF1ZGlvLnJlc2V0KCk7XHJcbi8vICAgICBjb25zb2xlLmxvZygncmVzZXRpbmcgYXVkaW8nKTtcclxuLy8gICB9XHJcbi8vICAgJHNjb3BlLmNsb25lQW5kQW5pbWF0ZSA9IGZ1bmN0aW9uKCRldmVudCkge1xyXG4vLyAgICAgY29uc29sZS5sb2coJ3RoaXMgPSAnLCAkZXZlbnQuY3VycmVudFRhcmdldCk7XHJcbi8vICAgICB2YXIgaXRlbSA9ICRldmVudC5jdXJyZW50VGFyZ2V0LFxyXG4vLyAgICAgICAgIGluZGV4ID0gZ2V0SW5kZXgoaXRlbSk7XHJcbi8vICAgICAgICAgaXRlbUNsb25lID0gaXRlbS5jbG9uZU5vZGUodHJ1ZSk7XHJcbi8vXHJcbi8vXHJcbi8vICAgICAvLyAkcm9vdFNjb3BlLmZhZGVpbkFydHdvcmsgPSBmYWxzZTtcclxuLy8gICAgIC8vICRyb290U2NvcGUuc2hvd0FydHdvcmsgPSBmYWxzZTtcclxuLy8gICAgIC8vICRyb290U2NvcGUuYXJ0d29ya1NyYyA9ICRzY29wZS50cmFja3NbaW5kZXhdLmFydHdvcmtfdXJsO1xyXG4vLyAgICAgLy8gJHJvb3RTY29wZS5hdWRpb1NyYyA9ICRzY29wZS50cmFja3NbaW5kZXhdLnN0cmVhbV91cmwgKyBjbGllbnRJRDtcclxuLy8gICAgIC8vICRyb290U2NvcGUuYXJ0d29ya1NyYyA9ICRzY29wZS50cmFja3NbaW5kZXhdLmFydHdvcmtfdXJsO1xyXG4vLyAgICAgLy8gJHJvb3RTY29wZS5hdWRpb1NyYyA9ICRzY29wZS50cmFja3NbaW5kZXhdLnN0cmVhbV91cmwgKyBjbGllbnRJRDtcclxuLy8gICAgIC8vJHNjb3BlLmZhZGVpbkFydHdvcmsgPSBmYWxzZTtcclxuLy8gICAgIC8vJHNjb3BlLnNob3dBcnR3b3JrID0gZmFsc2U7XHJcbi8vICAgICBhcnR3b3JrLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7IC8vIEkgb25seSB3YW50IGZhZGUtaW4gdHJhbnNpdGlvblxyXG4vLyAgICAgYXJ0d29yay5jbGFzc0xpc3QucmVtb3ZlKCdmYWRlaW4nKTtcclxuLy8gICAgICRzY29wZS5hcnR3b3JrU3JjID0gJHNjb3BlLnRyYWNrc1skc2NvcGUudHJhY2tJbmRleCArIGluZGV4XS5hcnR3b3JrX3VybDtcclxuLy8gICAgICRzY29wZS5hdWRpb1NyYyA9ICRzY29wZS50cmFja3NbJHNjb3BlLnRyYWNrSW5kZXggKyBpbmRleF0uc3RyZWFtX3VybCArIGNsaWVudElEO1xyXG4vLyAgICAgY29uc29sZS5sb2coJyRzY29wZS5hcnR3b3JrU3JjJywkc2NvcGUuYXJ0d29ya1NyYyk7XHJcbi8vICAgICBjb25zb2xlLmxvZygnJHNjb3BlLmF1ZGlvU3JjJywkc2NvcGUuYXVkaW9TcmMpO1xyXG4vLyAgICAgLy8gYXJ0d29yay5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7XHJcbi8vICAgICAvLyBhcnR3b3JrLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7IC8vIEkgb25seSB3YW50IGZhZGUtaW4gdHJhbnNpdGlvblxyXG4vLyAgICAgLy8gYXJ0d29yay5zcmMgPSBjdXJyZW50UmVzdWx0c1tpbmRleF0uaW1hZ2U7XHJcbi8vICAgICAvLyBhdWRpby5zcmMgPSBjdXJyZW50UmVzdWx0c1tpbmRleF0uYXVkaW8gKyBjbGllbnRJRDtcclxuLy9cclxuLy8gICAgIGNvbnNvbGUubG9nKCdjbG9uaW5nLi4uJyxpdGVtKTtcclxuLy8gICAgIC8vaXRlbUNsb25lID0gaXRlbS5jbG9uZU5vZGUodHJ1ZSk7XHJcbi8vICAgICBpdGVtQ2xvbmUuY2xhc3NMaXN0LmFkZCgnY2xvbmUnKTtcclxuLy8gICAgIGNvbnNvbGUubG9nKGl0ZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCxpdGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCk7XHJcbi8vICAgICBpdGVtQ2xvbmUuc3R5bGUubGVmdCA9IGl0ZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArICdweCc7XHJcbi8vICAgICBpdGVtQ2xvbmUuc3R5bGUudG9wID0gaXRlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyAncHgnO1xyXG4vLyAgICAgaXRlbS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGl0ZW1DbG9uZSk7XHJcbi8vICAgICBhbmltYXRlSXRlbShpdGVtQ2xvbmUpO1xyXG4vLyAgICAgLy8kcm9vdFNjb3BlLnNob3dBcnR3b3JrID0gdHJ1ZTtcclxuLy8gICAgIC8vJHNjb3BlLnNob3dBcnR3b3JrID0gdHJ1ZTtcclxuLy8gICAgIGFydHdvcmsuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbi8vICAgICBzaG93QXJ0d29yaygpO1xyXG4vLyAgICAgcmVtb3ZlQ2xvbmUoaXRlbUNsb25lKTtcclxuLy8gICB9O1xyXG4vLyAgICRzY29wZS5wbGF5VHJhY2sgPSBmdW5jdGlvbigpIHtcclxuLy8gICAgICRzY29wZS5pc1BsYXlpbmcgPSB0cnVlO1xyXG4vLyAgICAgLy9jb25zb2xlLmxvZygnYXVkaW8nLGF1ZGlvKTtcclxuLy8gICAgIC8vY29uc29sZS5sb2coJ2F1ZGlvU3JjJywkcm9vdFNjb3BlLmF1ZGlvU3JjKTtcclxuLy8gICAgIGF1ZGlvLnBsYXkoJHNjb3BlLmF1ZGlvU3JjKTtcclxuLy8gICAgIC8vYXVkaW8ucGxheSgpO1xyXG4vL1xyXG4vLyAgIH07XHJcbi8vXHJcbi8vXHJcbi8vIH1dKTtcclxuIl19\n"],"sourceRoot":"/source/"}